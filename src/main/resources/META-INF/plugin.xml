<!--
  ~  Copyright 2025-present The original author or authors.
  ~
  ~  Licensed under the Apache License, Version 2.0 (the "License");
  ~  you may not use this file except in compliance with the License.
  ~  You may obtain a copy of the License at
  ~
  ~       https://www.apache.org/licenses/LICENSE-2.0
  ~
  ~  Unless required by applicable law or agreed to in writing, software
  ~  distributed under the License is distributed on an "AS IS" BASIS,
  ~  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~  See the License for the specific language governing permissions and
  ~  limitations under the License.
  -->

<!-- Plugin Configuration File: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <!-- Unique identifier of the plugin. It should be FQN, cannot be changed between the plugin versions. -->
    <id>plus.wcj.jetbrains.plugins.Java2Flowchart</id>

    <!-- Public plugin name should be written in Title Case.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/best-practices-for-listing.html#plugin-name -->
    <name>Java2Flowchart</name>

    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor url="https://github.com/galaxy-sea" email="weichangjin1996@gmail.com">ChangJin Wei (魏昌进)</vendor>

    <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/best-practices-for-listing.html#plugin-description -->
    <description><![CDATA[
        Java2Flowchart generates a Mermaid flowchart (Markdown) for the selected Java method.<br>
        Usage: place the caret inside a method and invoke “Generate > Generate Java Flowchart (Markdown)” from the Generate menu or its shortcut (default: Ctrl+Alt+Shift+F, macOS: ⌥⇧⌘F). The .md file is saved under the project root in the Java2Flowchart directory (organized by package path) and includes the Mermaid code plus the current settings for easy preview or copy.
        <br>
        Java2Flowchart 将选中的 Java 方法生成 Mermaid 流程图（Markdown）。<br>
        用法：在方法体内右键或使用快捷键（默认 Ctrl+Alt+Shift+F，macOS 为 ⌥⇧⌘F）触发 “Generate > Generate Java Flowchart (Markdown)”。生成的 .md 文件保存在项目根目录的 Java2Flowchart 目录（按包路径分类），内容包含 Mermaid 代码和当前设置说明，可直接预览或复制到文档中。
    ]]></description>

    <!-- Product and plugin compatibility requirements.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.java</depends>

    <resource-bundle>messages.MyMessageBundle</resource-bundle>
    <!-- Extensions defined by the plugin.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">
        <toolWindow id="Java2Flowchart" factoryClass="plus.wcj.jetbrains.plugins.java2flowchart.MyToolWindowFactory"
                    icon="AllIcons.Toolwindows.ToolWindowPalette"/>
        <notificationGroup id="Java2Flowchart" displayType="BALLOON" isLogByDefault="true"/>
        <applicationService serviceImplementation="plus.wcj.jetbrains.plugins.java2flowchart.settings.Java2FlowchartSettings"/>
        <applicationConfigurable instance="plus.wcj.jetbrains.plugins.java2flowchart.settings.Java2FlowchartSettingsConfigurable"
                                 displayName="Java2Flowchart"/>
    </extensions>
    <actions>
        <action id="plus.wcj.jetbrains.plugins.java2flowchart.GenerateFlowchartAction"
                class="plus.wcj.jetbrains.plugins.java2flowchart.GenerateFlowchartAction"
                text="Generate Java Flowchart (Markdown)"
                description="生成当前方法的Mermaid流程图并存入项目根目录的 Java2Flowchart 文件夹">
            <add-to-group group-id="GenerateGroup" anchor="last"/>
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt shift F"/>
        </action>
    </actions>
</idea-plugin>
